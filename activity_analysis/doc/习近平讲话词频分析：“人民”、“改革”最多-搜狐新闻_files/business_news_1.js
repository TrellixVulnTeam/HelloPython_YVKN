function fortune_hq(a){for(it in a){if(typeof swichIT[it]=="function"){swichIT[it](a[it])}}}(function(){String.prototype.startsWith=function(pattern){return this.indexOf(pattern)===0};String.prototype.endsWith=function(pattern){var d=this.length-pattern.length;return d>0&&this.lastIndexOf(pattern)===d};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/gi,"")};String.prototype.isNumber=function(){return !isNaN(this-0)};String.prototype.isEmpty=function(){return this.replace(/\s*/gi,"").length===0};window.StringBuilder=function(s){this.strings=[];if(typeof s=="string"){this.strings.push(s)}};StringBuilder.prototype.append=function(s){var __s=this;__s.strings.push(s);return __s};StringBuilder.prototype.insert=function(s){var __s=this;__s.strings.unshift(s);return __s};StringBuilder.prototype.toString=function(){return this.strings.join("")};StringBuilder.prototype.isEmpty=function(){return this.strings.length===0};window.addDOMLoadEvent=(function(){var load_events=[],load_timer,script,done,exec,old_onload,init=function(){done=true;clearInterval(load_timer);while((exec=load_events.shift())){exec()}if(script){script.onreadystatechange=null}};return function(func){if(done){return func()}if(!load_events[0]){if(document.addEventListener){document.addEventListener("DOMContentLoaded",init,false);
/*@cc_on @*/
/*@if (@_win32)
	                document.write("<script id=__ie_onload defer src='javascript:void(0)'><\/scr"+"ipt>");
	                script = document.getElementById("__ie_onload");
	                script.onreadystatechange = function() {
	                    if (this.readyState == "complete"){
	                        init(); // call the onload handler
	                    }
	                };
	            /*@end @*/
}if(/WebKit/i.test(navigator.userAgent)){load_timer=setInterval(function(){if(/loaded|complete/.test(document.readyState)){init()}},10)}old_onload=window.onload;window.onload=function(){init();if(old_onload){old_onload()}}}load_events.push(func)}})();var tempDIV=document.createElement("div");if(!("swapNode" in tempDIV)){Node.prototype.swapNode=function(node){var nextSibling=this.nextSibling;var parentNode=this.parentNode;node.parentNode.replaceChild(this,node);parentNode.insertBefore(node,nextSibling)}}if(!("insertAdjacentHTML" in tempDIV)){HTMLElement.prototype.insertAdjacentElement=function(where,parsedNode){switch(where){case"beforeBegin":this.parentNode.insertBefore(parsedNode,this);break;case"afterBegin":this.insertBefore(parsedNode,this.firstChild);break;case"beforeEnd":this.appendChild(parsedNode);break;case"afterEnd":if(this.nextSibling){this.parentNode.insertBefore(parsedNode,this.nextSibling)}else{this.parentNode.appendChild(parsedNode)}break}};HTMLElement.prototype.insertAdjacentHTML=function(where,htmlStr){var r=this.ownerDocument.createRange();r.setStartBefore(this);var parsedHTML=r.createContextualFragment(htmlStr);this.insertAdjacentElement(where,parsedHTML)};HTMLElement.prototype.insertAdjacentText=function(where,txtStr){var parsedText=document.createTextNode(txtStr);this.insertAdjacentElement(where,parsedText)}}var jaw=window.jaw=function(selector,context){selector=selector||document;if(selector.nodeType){return selector}if(typeof selector=="string"){return document.getElementById(selector)}return undefined};jaw.browser={ie:!!window.ActiveXObject,ie6:!!window.ActiveXObject&&!window.XMLHttpRequest,ie7:!!window.ActiveXObject&&!!window.XMLHttpRequest,firefox:!!document.getBoxObjectFor,opera:!!window.addEventStream,safiri:/Apple/.test(navigator.vendor)};jaw.event={add:function(elem,type,handler,data){if(elem.nodeType==3||elem.nodeType==8){return}if(jaw.browser.ie&&elem.setInterval){elem=window}if(data!=undefined){var fn=handler;handler=function(){return fn.call(this,data)}}if(elem.addEventListener){elem.addEventListener(type,handler,false)}else{if(elem.attachEvent){elem.attachEvent("on"+type,handler)}}}};jaw.ajax=function(opts){var dataType=null;if(opts.dataType){dataType=opts.dataType.toLowerCase()}var success=opts.success&&typeof opts.success=="function"?opts.success:null;var url=opts.cache?opts.url:opts.url+(opts.url.match(/\?/)?"&":"?")+Math.random();if(dataType=="script"){var head=document.getElementsByTagName("head")[0]||document.documentElement.firstChild;var script=document.createElement("script");script.src=url;script.type="text/javascript";script.onload=script.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){if(success){success()}script.onload=script.onreadystatechange=null;script.parentNode.removeChild(script)}};head.appendChild(script);return undefined}opts.method=opts.method?opts.method.toUpperCase():"GET";opts.async=opts.async==undefined?true:!!opts.async;var xhr=jaw.browser.ie6?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest();try{xhr.open(opts.method,url,opts.async);xhr.onreadystatechange=function(){if(xhr.readyState==4&&xhr.status==200){var ct=xhr.getResponseHeader("content-type"),xml=dataType=="xml"||!dataType&&ct&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;if(success){success(data)}xhr=null}};var sendData=null;if(opts.method=="POST"){sendData=opt.sendData==undefined?null:opt.sendData}xhr.send(sendData)}catch(e){}};jaw.evalScript=function(opts){return jaw.ajax({url:opts.url,dataType:"script",success:opts.success})};jaw.loadCSS=function(url,id){var head=document.getElementsByTagName("head")[0]||document.documentElement.firstChild;if(typeof url=="string"){var css=jaw(id);if(css&&css.nodeType&&css.type=="text/css"){css.href=url}else{css=document.createElement("link");css.type="text/css";css.rel="stylesheet";css.href=url;head.appendChild(css)}}};jaw.uniqueArray=function(array){if(array&&array.constructor.toString()==Array){var done={},ret=[];for(var i=0;i<array.length;i++){if(!done[array[i]]){done[array[i]]=true;ret.push(array[i])}}return ret}else{return[]}};jaw.cookie={get:function(name){var cname=name+"=";var dc=document.cookie;if(dc.length>0){begin=dc.indexOf(cname);if(begin!=-1){begin+=cname.length;end=dc.indexOf(";",begin);if(end==-1){end=dc.length}return unescape(dc.substring(begin,end))}}return null},set:function(name,value,expires,path,domain,secure){var addOneHour=1*(60*60*1000);var addOneYear=365*24*addOneHour;var theTime=0.01667;if(expires!=null){theTime=expires}expires=new Date();expires.setTime(expires.getTime()+(theTime*addOneHour));document.cookie=name+"="+escape(value)+((expires==null)?"":"; expires="+expires.toGMTString())+((path==null)?"":"; path="+path)+((domain==null)?"":"; domain="+domain)+((secure==null)?"":"; secure")},del:function(name,path,domain){var addOneHour=1*(60*60*1000);var expires=new Date();expires.setTime(expires.getTime()-10000);if(this.get(name)){document.cookie=name+"="+((expires==null)?"":"; expires="+expires.toGMTString())+((path==null)?"":"; path="+path)+((domain==null)?"":"; domain="+domain)}}};jaw.getParameter=function(paramName,type){var map=window.location[type||"search"];map=map.replace(/^#|^\?/g,"");if(map){var strParam=map.split("&"),length=strParam.length;if(strParam&&length){for(var i=0;i<length;i++){var item=strParam[i],nameValue=item.split("=");if(nameValue.length==2){var name=nameValue[0],value=nameValue[1];if(paramName==name){return value}}}}}return undefined};jaw.commet=function(callbackFunName,domain){document.domain="sohu.com"||domain;this.heartbeat=200;this.mainFun="PEAK_ODIA"||callbackFunName;this.dataFrame=null;this.active=true;this.interval=null;this.destory=false;this.reusage=false;var createFrame=function(doc){doc=doc&&doc.nodeType==9?doc:document;var dataFrame=doc.createElement("iframe");dataFrame.style.display="none";doc.body.appendChild(dataFrame);return dataFrame};this.init=function(){if(window.ActiveXObject){var htmlFileDocument=this.htmlFileDocument?this.htmlFileDocument:this.htmlFileDocument=new ActiveXObject("htmlfile");var dataFrameId="dataFrame";if(!htmlFileDocument.getElementById(dataFrameId)){htmlFileDocument.open();htmlFileDocument.write("<html><script>");htmlFileDocument.write('document.domain="'+(document.domain)+'";');htmlFileDocument.write("<\/script></html>");htmlFileDocument.close();htmlFileDocument.charset=document.defaultCharset;htmlFileDocument.parentWindow[this.mainFun]=window[this.mainFun];var dataFrame=htmlFileDocument.createElement("iframe");dataFrame.id=dataFrameId;htmlFileDocument.body.appendChild(dataFrame);this.dataFrame=dataFrame}CollectGarbage()}else{if(!this.dataFrame){this.dataFrame=createFrame()}}};this.request=function(url,data){if(typeof url!="string"){return}this.init();var dataFrame=this.dataFrame;if(this.reusage){var doc=window.ActiveXObject?this.htmlFileDocument:document;dataFrame=createFrame(doc);dataFrame.onload=dataFrame.onreadystatechange=function(){var self=this;self.onload=self.onreadystatechange=null;self.parentNode.removeChild(self)}}var uid=jaw.cookie.get("SUV");data=(data||"")+(url.indexOf("?")>-1?"&":"?")+"uid="+uid;var random=Math.random().toString();random=random.length>6?random.substr(6):random;url+=data+"&"+random;if(url.indexOf(document.domain+"/")!=-1){dataFrame.src=url}};this.taskqQueue=[];this.append=function(id,speed,callback,data){id=id!=undefined?id:this.queue.length;this.taskqQueue.push([id,speed,callback,data])};this.remove=function(id){var q=this.taskqQueue;for(var i=q.length-1;i>=0;i--){if(q[i][0]==id){q.splice(i,1)}}};this.modify=function(id,callback,data){var q=this.taskqQueue;var instance=this;for(var i=q.length-1;i>=0;i--){if(q[i][0]==id){q[i][2]=callback;if(data!=undefined){q[i][3]=data}if(typeof callback=="string"){instance.request(callback,data)}else{if(typeof callback=="function"){callback(data)}}}}};this.handler=function(){var instance=this;if(this.interval==null){this.interval=setInterval(function(){if(!instance.active){return}var run=function(item){if(item.length&&item.constructor.toString()==Array){var callback=item[2],data=item[3];if(typeof callback=="string"){instance.request(callback,data)}else{if(typeof callback=="function"){callback(data)}}}};var queue=instance.taskqQueue;for(var i=queue.length-1;i>=0;i--){var item=queue[i],callback,data;if(item.length==4){item[4]=item[1];run(item)}else{if(item[1]>1){item[1]--}else{item[1]=item[4];run(item)}}}},instance.heartbeat)}};this.running=function(){return(this.taskqQueue.length>0&&this.interval!=null)};this.stop=function(){this.taskqQueue=[]};this.pause=function(){this.active=false};this.start=function(){this.active=true};return this};jaw.shellSort={sort:function(arr,comp){var increment=arr.length;var sort_str=!(/^[\+|\-]?\d+(\.\d+)?%?$/.test(arr[0][comp]));if(sort_str){var new_arr=[];function compare(comp){return function(d1,d2){return d1[comp].localeCompare(d2[comp])}}for(var i=0;i<increment;i++){new_arr[i]=arr[i]}new_arr.sort(compare(comp));arr=new_arr}else{do{increment=(increment/3|0)+1;arr=this.pass(arr,increment,comp)}while(increment>1)}return arr},pass:function(arr,d,comp){var temp,j;for(var i=d;i<arr.length;i++){if(parseFloat(arr[i][comp])>parseFloat(arr[i-d][comp])){temp=arr[i];j=i-d;do{arr[j+d]=arr[j];j=j-d}while(j>-1&&parseFloat((temp)[comp])>parseFloat(arr[j][comp]));arr[j+d]=temp}}return arr}}})();document.domain="sohu.com";var obj2fun={};var PEAK_ODIA=function(a){if((a.constructor.toString()==Array&&typeof a[0]=="string")){if(typeof obj2fun[a[0]]=="function"){obj2fun[a[0]](a)}}};var zs_info={init:function(){var b=this;var e=jaw("stockTag").getElementsByTagName("li");var a=jaw("stock_hq_lists").getElementsByTagName("li");b.his_type=jaw("stockTag").getElementsByTagName("li")[0];b.his_type_block=jaw("stock_hq_a");b.his_li=jaw("stock_hq_a").getElementsByTagName("li")[0];b.link=jaw("stock_hq_img");b.img=jaw("stock_hq_img").getElementsByTagName("img")[0];if(!jaw.browser.ie6){b.img.src=b.his_li.getAttribute("imgpath").replace(/(?:_new)*\.png$/,"_3.png")+"?"+new Date().getTime()}for(var d=0;d<e.length;d++){e[d].onclick=function(){var g=this.getAttribute("c"),f=jaw(g).getElementsByTagName("li")[0];b.his_type.className="";b.his_type_block.style.display="none";this.className="libg";jaw(g).style.display="";b.link.href=f.getElementsByTagName("a")[0].href;b.img.src=(!jaw.browser.ie6?f.getAttribute("imgpath").replace(/(?:_new)*\.png$/,"_3.png"):f.getAttribute("imgpath"))+"?"+new Date().getTime();b.his_type=this;b.his_type_block=jaw(g)}}for(var c=0;c<a.length;c++){a[c].onmouseover=function(){b.his_li.className="";this.className="libg";b.link.href=this.getElementsByTagName("a")[0].href;b.img.src=(!jaw.browser.ie6?this.getAttribute("imgpath").replace(/(?:_new)*\.png$/,"_3.png"):this.getAttribute("imgpath"))+"?"+new Date().getTime();b.his_li=this}}},cna:function(h){var g=[],b=jaw("stock_hq_a").getElementsByTagName("li");for(var e=0;e<h.length;e++){var a=b[e],f=h[e],j=(parseFloat(f[3])>0?"red":parseFloat(f[3])<0?"green":"");a.innerHTML='<span class="tt"><a title="'+f[0]+'"  target="_blank" href="'+f[4]+'">'+f[0]+'</a></span><span class="gray">'+f[1]+'</span><span class="'+j+'">'+f[2]+'</span><span class="'+j+'">'+f[3]+"</span>"}},cnb:function(h){var g=[],b=jaw("stock_hq_b").getElementsByTagName("li");for(var e=0;e<h.length;e++){var a=b[e],f=h[e],j=(parseFloat(f[3])>0?"red":parseFloat(f[3])<0?"green":"");a.innerHTML='<span class="tt"><a title="'+f[0]+'"  target="_blank" href="'+f[4]+'">'+f[0]+'</a></span><span class="gray">'+f[1]+'</span><span class="'+j+'">'+f[2]+'</span><span class="'+j+'">'+f[3]+"</span>"}},cnf:function(h){var g=[],b=jaw("stock_hq_jj").getElementsByTagName("li");for(var e=0;e<h.length;e++){var a=b[e],f=h[e],j=(parseFloat(f[3])>0?"red":parseFloat(f[3])<0?"green":"");a.innerHTML='<span class="tt"><a title="'+f[0]+'"  target="_blank" href="'+f[4]+'">'+f[0]+'</a></span><span class="gray">'+f[1]+'</span><span class="'+j+'">'+f[2]+'</span><span class="'+j+'">'+f[3]+"</span>"}}};var News_hisEle=null;function getImgURL(b){var a;if(b.startsWith("hk")){a="http://d1.biz.itc.cn/hkimage/stock/quot/"+b.substring(3,4)+"/"+b.substring(3,5)+"/"+b.substring(3)+"_2.png?"+new Date().getTime()}else{if(b.startsWith("I")){a="http://d1.biz.itc.cn/hkimage/index/quot/"+b+"_2.png?"+new Date().getTime()}else{if(b.startsWith("cn")||b.startsWith("zs")){a="http://d1.biz.itc.cn/q/"+b.substring(0,2)+"/"+b.substring(b.length-3)+"/"+b.substring(3)+"/tline2.png?"+new Date().getTime()}else{if(b.startsWith("us")){var e=b.split("_")[2].toLowerCase(),d=(e.length>1?(e.substring(0,1)+"/"+e.substring(1,2)):e);a="http://d1.biz.itc.cn/usaimg/stock/"+d+"/"+e+"_tline2.png"}}}}return a}function wanews(b){var k=document.createDocumentFragment();var n=jaw("related_stock_img");var h=jaw("related_stock_img").getElementsByTagName("img")[0];var a=[];for(var e=1;e<b.length;e++){if(b[e].length>1){a.push(b[e])}}jaw.shellSort.sort(a,3);for(var g=0;g<a.length;g++){var m=a[g];var p=document.createElement("li");var c=a[g][4].startsWith("-")?"green":parseFloat(a[g][4])!=0?"red":"";p.setAttribute("c",a[g][0]);if(g==0&&!News_hisEle){p.className="libg";n.href="http://q.stock.sohu.com"+a[0][15];h.src=getImgURL(a[0][0]);h.style.display="";News_hisEle=p}p.innerHTML=new StringBuilder('<span class="tt"><a title="'+a[g][1]+'" target="_blank" href="http://q.stock.sohu.com'+a[g][15]+'">'+a[g][1]+'</a><a href="http://t.stock.sohu.com/'+a[g][0].replace("_","")+'.shtml" target="_blank" class="qgqp"></a></span>').append('<span class="gray">'+a[g][2]+"</span>").append('<span class="'+c+'">'+a[g][4]+"</span>").append('<span class="'+c+'">'+a[g][3]+"</span>").toString();k.appendChild(p);p.onmouseover=function(){var d=this.getAttribute("c");News_hisEle.className="";this.className="libg";n.href=this.getElementsByTagName("a")[0].href;h.src=getImgURL(d);News_hisEle=this}}jaw("related_stock").appendChild(k)}var swichIT={cna:zs_info.cna,cnb:zs_info.cnb,cnf:zs_info.cnf};var obj2fun={anews:wanews};